<!DOCTYPE html>
<html>
<head>
    <title>Grid-Based Grouping Results</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container">
    <h1>Image Gallery</h1>
    <label for="dataset-select">Select dataset:</label>
    <select id="dataset-select" onchange="filterImages()">
        <option value="all">Choose</option>
        <option value="hypersim_v3">hypersim_v3</option>
        <option value="NSD">NSD</option>
        <option value="tdw">TDW</option>
        <option value="gestalt_shapegen">Gestalt</option>

    </select>

    <div id="image-container"></div>

    </div>
    <script>
        function createImages(dataset) {
            var imageContainer = document.getElementById('image-container');
            imageContainer.innerHTML = "";
            for (var i = 0; i < 100; i++) {
                var imageUrl = "https://yoni-mlve-segmentation-vis.s3.amazonaws.com/results/" + dataset + "/grid-grouping_" + String(i).padStart(3, '0') + ".png"

                var img = document.createElement('img');
                img.src = imageUrl;
                img.style.width = '100%';
                img.dataset.name = dataset;
                var title = document.createElement("h3")
                title.innerText = "Image: " + String(i).padStart(3, '0')
                imageContainer.appendChild(title)
                imageContainer.appendChild(img);
            }
        }    

        function filterImages(){
            console.log("Filtering Images")
            var datasetSelect = document.getElementById("dataset-select");
            var selectedDataset = datasetSelect.options[datasetSelect.selectedIndex].value;
            var imageContainer = document.getElementById('image-container');
            imageContainer.innerHTML = "";
            createImages(selectedDataset);
        }
    </script>
</body>
</html>

